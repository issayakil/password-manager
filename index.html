<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyPass</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Auth -->
    <div id="auth-container">
        <div class="auth-card">
            <!-- Login -->
            <form id="login-form" class="auth-form">
                <div class="auth-header">
                    <div class="auth-logo">ğŸ”</div>
                    <h1>MyPass</h1>
                    <p>Your secure vault</p>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="text" id="login-email" required>
                </div>
                <div class="form-group">
                    <label>Master Password</label>
                    <input type="password" id="login-password" required>
                </div>
                <button type="submit" class="btn-block">Unlock</button>
                <div class="auth-footer">
                    <a href="#" data-show="register">Create Account</a> Â· 
                    <a href="#" data-show="recovery">Forgot Password?</a>
                </div>
            </form>

            <!-- Register -->
            <form id="register-form" class="auth-form hidden">
                <div class="auth-header">
                    <div class="auth-logo">ğŸ”</div>
                    <h1>Create Account</h1>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="text" id="reg-email" required>
                </div>
                <div class="form-group">
                    <label>Master Password</label>
                    <input type="password" id="reg-password" required>
                    <div id="password-strength"></div>
                </div>
                <div class="form-group">
                    <label>Confirm Password</label>
                    <input type="password" id="reg-confirm" required>
                </div>
                <p style="font-size:12px;color:var(--text2);margin:16px 0 8px;">Security Questions</p>
                <div class="form-group">
                    <select id="q1" class="sec-q" required></select>
                    <input id="a1" placeholder="Answer" style="margin-top:6px" required>
                </div>
                <div class="form-group">
                    <select id="q2" class="sec-q" required></select>
                    <input id="a2" placeholder="Answer" style="margin-top:6px" required>
                </div>
                <div class="form-group">
                    <select id="q3" class="sec-q" required></select>
                    <input id="a3" placeholder="Answer" style="margin-top:6px" required>
                </div>
                <button type="submit" class="btn-block">Create Account</button>
                <div class="auth-footer">
                    <a href="#" data-show="login">Back to Login</a>
                </div>
            </form>

            <!-- Recovery -->
            <form id="recovery-form" class="auth-form hidden">
                <div class="auth-header">
                    <div class="auth-logo">ğŸ”‘</div>
                    <h1>Account Recovery</h1>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="text" id="recovery-email" required>
                </div>
                <button type="button" id="start-recovery" class="btn-block">Continue</button>
                <div id="recovery-questions" class="hidden"></div>
                <button type="submit" id="verify-recovery" class="btn-block hidden" style="margin-top:16px">Verify</button>
                <div class="auth-footer">
                    <a href="#" data-show="login">Back to Login</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Lock Screen -->
    <div id="lock-screen" class="hidden">
        <div class="lock-card">
            <div style="font-size:48px">ğŸ”’</div>
            <h2>Vault Locked</h2>
            <p>Enter your master password</p>
            <form id="unlock-form">
                <div class="form-group">
                    <input type="password" id="unlock-password" required>
                </div>
                <button type="submit" class="btn-block">Unlock</button>
            </form>
        </div>
    </div>

    <!-- Main App -->
    <div id="main-app" class="hidden">
        <!-- Header -->
        <div class="header">
            <h1>ğŸ” MyPass</h1>
            <div class="header-right">
                <input type="text" id="search-input" placeholder="Search...">
                <button class="btn-icon" id="settings-btn">âš™ï¸</button>
                <button class="btn-icon" id="logout-btn">ğŸšª</button>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="sidebar">
            <h3>Vault</h3>
            <div class="nav-item active" data-category="all">
                <span>ğŸ“</span> All <span class="count" id="cnt-all">0</span>
            </div>
            
            <h3>Types</h3>
            <div class="nav-item" data-category="logins">
                <span>ğŸ”</span> Logins <span class="count" id="cnt-logins">0</span>
            </div>
            <div class="nav-item" data-category="cards">
                <span>ğŸ’³</span> Cards <span class="count" id="cnt-cards">0</span>
            </div>
            <div class="nav-item" data-category="identities">
                <span>ğŸ‘¤</span> Identities <span class="count" id="cnt-identities">0</span>
            </div>
            <div class="nav-item" data-category="notes">
                <span>ğŸ“</span> Notes <span class="count" id="cnt-notes">0</span>
            </div>

            <div class="add-btns">
                <button class="btn-secondary" data-add="login">+ Login</button>
                <button class="btn-secondary" data-add="card">+ Card</button>
                <button class="btn-secondary" data-add="identity">+ Identity</button>
                <button class="btn-secondary" data-add="note">+ Note</button>
            </div>
        </div>

        <!-- Vault List -->
        <div class="vault-list">
            <div class="vault-list-header">Items</div>
            <div id="vault-list"></div>
        </div>

        <!-- Item Detail -->
        <div class="item-detail">
            <div id="item-detail" class="hidden"></div>
            <div class="placeholder">
                <span>ğŸ”</span>
                <p>Select an item</p>
            </div>
        </div>
    </div>

    <!-- Item Modal -->
    <div id="item-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Add Item</h3>
                <button class="modal-close">Ã—</button>
            </div>
            <form id="item-form">
                <div class="modal-body" id="item-fields"></div>
                <div class="modal-footer">
                    <button type="button" class="btn-secondary modal-cancel">Cancel</button>
                    <button type="submit">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Generator Modal -->
    <div id="gen-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Password Generator</h3>
                <button class="modal-close">Ã—</button>
            </div>
            <div class="modal-body">
                <input type="text" id="gen-output" readonly>
                <div id="gen-strength"></div>
                <div class="gen-options">
                    <div class="gen-option">
                        <label>Length</label>
                        <div style="display:flex;align-items:center;gap:8px">
                            <input type="range" id="gen-length" min="4" max="64" value="16">
                            <span id="length-val">16</span>
                        </div>
                    </div>
                    <div class="gen-option">
                        <label><input type="checkbox" id="gen-upper" checked> Uppercase (A-Z)</label>
                    </div>
                    <div class="gen-option">
                        <label><input type="checkbox" id="gen-lower" checked> Lowercase (a-z)</label>
                    </div>
                    <div class="gen-option">
                        <label><input type="checkbox" id="gen-nums" checked> Numbers (0-9)</label>
                    </div>
                    <div class="gen-option">
                        <label><input type="checkbox" id="gen-symbols" checked> Symbols</label>
                    </div>
                </div>
                <button type="button" id="gen-btn" class="btn-secondary btn-block">Regenerate</button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary modal-cancel">Cancel</button>
                <button type="button" id="use-gen-btn">Use Password</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="modal-close">Ã—</button>
            </div>
            <form id="settings-form">
                <div class="modal-body">
                    <div class="form-group">
                        <label>Auto-lock after (minutes)</label>
                        <select id="set-autolock">
                            <option value="1" selected>1</option>
                            <option value="5">5</option>
                            <option value="10">10</option>
                            <option value="15">15</option>
                            <option value="30">30</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Clear clipboard after (minutes)</label>
                        <select id="set-clipboard">
                            <option value="0.5">0.5</option>
                            <option value="1" selected>1</option>
                            <option value="2">2</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-secondary modal-cancel">Cancel</button>
                    <button type="submit">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toasts -->
    <div id="toasts"></div>

    <script type="module" src="js/app.js"></script>
</body>
</html>
